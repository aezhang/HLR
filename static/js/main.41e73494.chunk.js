(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),r=n(6),a=n.n(r),s=(n(11),n(3)),i=n(4),l=n(2),u=(n(12),n(0));var b=function(e){var t=Object(c.useState)(!0),n=Object(l.a)(t,2),o=n[0],r=n[1],a=Object(c.useState)(0),s=Object(l.a)(a,2),i=s[0],b=s[1];return Object(c.useEffect)((function(){r(!1),setTimeout((function(){r(!0),b(Math.round(e.val/1*60))}),0)}),[e.val]),Object(u.jsx)("div",{className:"Bar ".concat(o?"animate":""),style:{"--bar-height":"".concat(i,"px")}})};var d=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),o=n[0],r=n[1];return Object(u.jsxs)("div",{className:"BarElement ".concat(o?"interact":""),onMouseEnter:function(){r(!0)},onMouseDown:function(){o||r(!0)},onMouseLeave:function(){r(!1)},onMouseUp:function(){o||r(!1)},children:[Object(u.jsx)("span",{className:"tooltip ".concat(o?"interact":""),children:e.val.toPrecision(4)}),Object(u.jsx)(b,{val:e.val}),Object(u.jsx)("div",{className:"bar-bottom"}),Object(u.jsx)("span",{className:"label",children:e.label})]})};var j=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),o=n[0],r=n[1],a=Object(c.useRef)(!0);return Object(c.useEffect)((function(){a.current||setTimeout((function(){r(!0)}),0),a.current=!1}),[e.revealed]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"wall ".concat(o?"slide":"")}),Object(u.jsxs)("div",{className:"bar-container",children:[Object(u.jsxs)("p",{children:["Tensorflow's prediction: ",e.prediction]}),Object.keys(e.confidences).map((function(t){return Object(u.jsx)(d,{label:t,val:e.confidences[t]},t)}))]})]})};var h=function(e){var t=Object(c.useState)(!0),n=Object(l.a)(t,2),o=n[0],r=n[1],a=Object(c.useState)(e.tab),s=Object(l.a)(a,2),i=s[0],b=s[1],d=Object(c.useRef)(!1);return Object(c.useEffect)((function(){d.current&&(r(!1),setTimeout((function(){b(e.tab),r(!0)}),600)),d.current=!0}),[e.tab]),Object(u.jsx)("div",{className:"LeftCard ".concat(o?"move":""),dangerouslySetInnerHTML:{__html:i}})},f="<p>Welcome to my  Handwritten Letter Recognizer!<br><br> Just\n draw a letter in the box, and neural networks will attempt to read the letter as \n text. The result of Google's Cloud Vision Api will be on the right. 'Show Bounding \n Boxes' will reveal Google's outline of each letter.<br><br>Below is where the \n predictions of a Tensorflow model I trained will be displayed. <br> <br> Have fun! </p>";var O=function(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabdefghnqrt",t={},n=0;n<e.length;n++)t[e[n]]=0;var o=Object(c.useRef)(null),r=Object(c.useRef)(null),a=Object(c.useState)(!1),b=Object(l.a)(a,2),d=b[0],O=b[1],m=Object(c.useState)([]),g=Object(l.a)(m,2),p=g[0],v=g[1],w=Object(c.useState)(t),x=Object(l.a)(w,2),y=x[0],S=x[1],k=Object(c.useState)(""),N=Object(l.a)(k,2),C=N[0],T=N[1],M=Object(c.useState)(!1),E=Object(l.a)(M,2),L=E[0],B=E[1],F=Object(c.useState)({}),z=Object(l.a)(F,2),D=z[0],G=z[1],P=Object(c.useState)(0),R=Object(l.a)(P,2),H=R[0],I=R[1],A=Object(c.useState)(0),W=Object(l.a)(A,2),X=W[0],Y=W[1],q=Object(c.useState)(f),U=Object(l.a)(q,2),J=U[0],Q=U[1],V=Object(c.useState)("about"),Z=Object(l.a)(V,2),_=Z[0],K=Z[1],$=Object(c.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(!1),oe=Object(l.a)(ce,2),re=oe[0],ae=oe[1],se=Object(c.useState)(!1),ie=Object(l.a)(se,2),le=ie[0],ue=ie[1];Object(c.useEffect)((function(){document.title="Handwritten Letter Recognizer";var e=o.current,t=Math.min(window.innerHeight,window.innerWidth),n=250;e.width=t,e.height=t,e.style.width="".concat(n,"px"),e.style.height="".concat(n,"px"),e.style.border="1px solid black";var c=e.getContext("2d");c.scale(t/n,t/n),Y(t/n),c.lineCap="round",c.lineJoin="round",c.strokeStyle="black",c.lineWidth=20,r.current=c}),[]);var be=function(){if(d){r.current.closePath(),O(!1),ue(!0);var e=o.current.toDataURL(),t=new Headers;t.append("Content-Type","application/json");var n=new FormData;n.append("base64image",e),fetch("https://ul2efbv4q2.execute-api.us-west-1.amazonaws.com",{method:"POST",headers:t,body:n,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){v(e.symbols||[]),S(e.tfconfidences),T(e.tfresponse)})).catch((function(e){console.log(e)}))}},de=function(e){Q("about"===e?f:"faq"===e?"<p><strong>Q:</strong> Why are some of the lowercase letters missing?<br>\n<strong>A:</strong> The letters that look the same in lowercase and uppercase are merged into a single result, since it would be impossible to decide otherwise. \nIt just gives the neural nets an easier job :) <br><br><strong>Q:</strong> How come I drew something and Google's response didn't change?\n<br><strong>A:</strong> No response from Google means it didn't recognize anything in the image :(. The TensorFlow model will always respond, though, even if you scribble. \n<br><br><strong>Q:</strong> Why is Google's accuracy/confidence lower?<br><strong>A:</strong> Google's Cloud Vision is trained to recognize not just a single letter, but many at a time (if you can fit them), and even punctuation. \nNot only that, it works on other languages, too. Give it a shot with the Cyrillic \u0418 or the Chinese \u5b50! So its accuracy can't really be compared to the Tensorflow model, which only recognizes square, grayscale, single letters.</p>":'<p>Hello!</p><p>This website was created by Andrew Zhang, \na Class of 2023 student at UC Berkeley studying Electrical Engineering and Computer Science. \nFor more info about me or contact information, here is my email, Github, and \nLinkedIn:</p><p>Email: aezhang1@gmail.com</p><p>Github: <a href="https://github.com/aezhang">\nhttps://github.com/aezhang</a></p><p>LinkedIn: <a href="https://www.linkedin.com/in/aezhang">\nhttps://www.linkedin.com/in/aezhang</p>'),K(e)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("ul",{className:"navbar",children:[Object(u.jsx)("li",{className:"".concat("about"===_?"active":""),onMouseDown:function(){de("about")},children:"About"}),Object(u.jsx)("li",{className:"".concat("faq"===_?"active":""),onMouseDown:function(){de("faq")},children:"FAQ"}),Object(u.jsx)("li",{className:"".concat("contact"===_?"active":""),onMouseDown:function(){de("contact")},children:"Contact"})]}),Object(u.jsx)("div",{className:"left-sidebar",children:Object(u.jsx)(h,{tab:J})}),Object(u.jsx)("div",{className:"main1",children:Object(u.jsx)("table",{className:"mainContent",children:Object(u.jsxs)("tbody",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("td",{children:Object(u.jsx)("canvas",{ref:o,onMouseDown:function(e){var t=e.nativeEvent,n=t.offsetX,c=t.offsetY;r.current.beginPath(),r.current.moveTo(n,c),O(!0);var o=Object(i.a)(Object(i.a)({},D),{},Object(s.a)({},H+1,[]));o[H+1].push({offsetX:n,offsetY:c}),G(o),I(H+1)},onMouseUp:be,onMouseMove:function(e){var t=e.nativeEvent,n=t.offsetX,c=t.offsetY;if(d){r.current.lineTo(n,c),r.current.stroke();var o=Object(i.a)({},D);o[H].push({offsetX:n,offsetY:c}),G(o)}},onMouseLeave:be,children:"Something went wrong."})})}),Object(u.jsx)("tr",{children:Object(u.jsxs)("td",{children:[Object(u.jsx)("button",{className:"".concat(te?"clicked":""),onMouseDown:function(){ne(!0)},onClick:function(){var e=o.current;r.current.clearRect(0,0,e.width,e.height),v([]),G({}),I(0),B(!1),S(t),T("")},onMouseUp:function(){ne(!1)},children:"Clear canvas"}),Object(u.jsx)("button",{className:"".concat(re?"clicked":""),onClick:function(){if(L){var e=o.current;for(var t in r.current.clearRect(0,0,e.width,e.height),r.current.strokeStyle="black",D)r.current.moveTo(D[t][0].offsetX,D[t][0].offsetY),r.current.beginPath(),D[t].forEach((function(e,t){0!==t&&(r.current.lineTo(e.offsetX,e.offsetY),r.current.stroke())})),r.current.closePath();B(!1)}else p.forEach((function(e){r.current.lineWidth=4,e.confidence>=.85?r.current.strokeStyle="green":e.confidence>=.5?r.current.strokeStyle="orange":r.current.strokeStyle="red",r.current.moveTo(e.boundingBox.vertices[0].x/X,e.boundingBox.vertices[0].y/X),r.current.beginPath(),e.boundingBox.vertices.forEach((function(e){r.current.lineTo(e.x/X,e.y/X),r.current.stroke()})),r.current.closePath(),r.current.stroke(),r.current.strokeStyle="black",r.current.lineWidth=20})),B(!0);ae(!1)},onMouseDown:function(){ae(!0)},children:"Show bounding boxes"})]})})]})})}),Object(u.jsx)("div",{className:"wrapper",children:Object(u.jsx)("div",{className:"ConfidenceList",children:Object(u.jsx)(j,{revealed:le,confidences:y,prediction:C})})}),Object(u.jsxs)("div",{className:"right-sidebar",children:[Object(u.jsx)("p",{className:"section-title",children:"Google's Cloud Vision response:"}),Object(u.jsxs)("table",{className:"response",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Character"}),Object(u.jsx)("th",{children:"Confidence"})]})}),Object(u.jsx)("tbody",{children:p.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:'"'+e.symbol+'"'}),Object(u.jsx)("td",{children:e.confidence.toFixed(2).toString()})]},t)}))})]})]})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root")),m()}},[[14,1,2]]]);
//# sourceMappingURL=main.41e73494.chunk.js.map